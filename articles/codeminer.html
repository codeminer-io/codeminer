<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to codeminer • codeminer</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to codeminer">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">codeminer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/codeminer.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/caliber.html">CALIBER code lists</a></li>
    <li><a class="dropdown-item" href="../articles/icd10_formats.html">ICD10 code formats</a></li>
    <li><a class="dropdown-item" href="../articles/MAP.html">Mapping between clinical coding systems</a></li>
    <li><a class="dropdown-item" href="../articles/phecodes.html">Phecodes</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/codeminer-io/codeminer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to codeminer</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/codeminer-io/codeminer/blob/main/vignettes/codeminer.Rmd" class="external-link"><code>vignettes/codeminer.Rmd</code></a></small>
      <div class="d-none name"><code>codeminer.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/codeminer-io/codeminer" class="external-link">codeminer</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The goal of codeminer is to simplify working with clinical codes for
research using electronic health records. The workflow is as
follows:</p>
<ol style="list-style-type: decimal">
<li>Create a local resource containing lookup and mapping tables for
various clinical codings systems (e.g. ICD10 and Read codes)</li>
<li>Build clinical code lists for conditions of interest by querying
this resource</li>
</ol>
<p>This vignette demonstrates the above using dummy data included with
the package. You can try out the steps either locally by installing
codeminer on your own machine, or online by clicking on the following
link to RStudio Cloud<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;You will be asked to sign up for a free account if you
do not have one already.&lt;/p&gt;"><sup>1</sup></a> and navigating to this Rmd file in the
‘vignettes’ directory: <a href="https://rstudio.cloud/project/4007004" class="external-link"><img src="https://img.shields.io/badge/RStudio-Cloud-blue" alt="Launch RStudio Cloud"></a></p>
<p>Also included are functions for mapping between different clinical
coding systems, and using CALIBER code lists<span class="citation">(Kuan
et al. 2019)</span> and Phecodes<span class="citation">(Denny,
Bastarache, and Roden 2016; Wu et al. 2019)</span> with UK Biobank data.
See vignettes <code><a href="../articles/MAP.html">vignette('MAP')</a></code>
<code><a href="../articles/caliber.html">vignette('caliber')</a></code> and <code><a href="../articles/phecodes.html">vignette('phecodes')</a></code>
for further information.</p>
</div>
<div class="section level2">
<h2 id="build-a-local-clinical-codes-lookup-and-mappings-resource">Build a local clinical codes lookup and mappings resource<a class="anchor" aria-label="anchor" href="#build-a-local-clinical-codes-lookup-and-mappings-resource"></a>
</h2>
<p>The first step is to create a local database containing lookup and
mapping tables for various clinical coding systems using
<code><a href="../reference/build_all_lkps_maps.html">build_all_lkps_maps()</a></code>.</p>
<p>By default this will download the following resources:</p>
<ul>
<li><p>UK Biobank resource 592 (<a href="https://biobank.ndph.ox.ac.uk/ukb/refer.cgi?id=592" class="external-link">Clinical
coding classification systems and maps</a>)</p></li>
<li><p>UK Biobank <a href="https://biobank.ctsu.ox.ac.uk/crystal/exinfo.cgi?src=accessing_data_guide" class="external-link">data
codings file</a></p></li>
<li><p><a href="https://phewascatalog.org/" class="external-link">Phecode lookup and mapping
files</a> (for ICD9 and ICD10 to phecode)</p></li>
</ul>
<p>The tables are imported into R, reformatted, and stored as a named
list of data frames:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># build dummy all_lkps_maps resource (supressing warning messages)</span></span>
<span><span class="va">all_lkps_maps_dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_all_lkps_maps_dummy.html">build_all_lkps_maps_dummy</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view first few rows of ICD10 lookup table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">all_lkps_maps_dummy</span><span class="op">$</span><span class="va">icd10_lkp</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 13</span></span></span>
<span><span class="co">#&gt;   .rowid ICD10_CODE ALT_CODE USAGE   USAGE_UK DESCRIPTION  MODIFIER_4 MODIFIER_5</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>      1 A00        A00      DEFAULT 3        Cholera      <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>      2 A00.0      A000     DEFAULT 3        Cholera due… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>      3 A00.1      A001     DEFAULT 3        Cholera due… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>      4 A00.9      A009     DEFAULT 3        Cholera, un… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>      5 A01.0      A010     DEFAULT 3        Typhoid fev… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>      6 A02        A02      DEFAULT 3        Other salmo… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: QUALIFIERS &lt;chr&gt;, GENDER_MASK &lt;chr&gt;, MIN_AGE &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   MAX_AGE &lt;chr&gt;, TREE_DESCRIPTION &lt;chr&gt;</span></span></span></code></pre></div>
<p>Many of the functions in this package will require this object
(supplied to argument <code>all_lkps_maps</code>).</p>
<p>Instead of re-running <code><a href="../reference/build_all_lkps_maps.html">build_all_lkps_maps()</a></code> in each new
R session, the output can be saved to a Duckdb database file:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># write to Duckdb database file</span></span>
<span><span class="va">db_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="fu"><a href="../reference/all_lkps_maps_to_db.html">all_lkps_maps_to_db</a></span><span class="op">(</span>all_lkps_maps <span class="op">=</span> <span class="va">all_lkps_maps_dummy</span>, </span>
<span>                               db_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Connect to this and create a named list of
<code><a href="https://dbplyr.tidyverse.org/reference/tbl.src_dbi.html" class="external-link">dbplyr::tbl_dbi</a></code><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;If you have not used SQL with R before, I recommend
reading the &lt;a href="https://dbplyr.tidyverse.org/articles/dbplyr.html" title="Using SQL with R" class="external-link"&gt;Get started&lt;/a&gt; vignette from the dbplyr
package.&lt;/p&gt;'><sup>2</sup></a> objects:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># connect to Duckdb database</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">duckdb</span><span class="fu">::</span><span class="fu"><a href="https://r.duckdb.org/reference/duckdb.html" class="external-link">duckdb</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">db_path</span>, read_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create named list of tbl_db objects</span></span>
<span><span class="va">all_lkps_maps_dummy_db</span> <span class="op">&lt;-</span> <span class="fu">ukbwranglr</span><span class="fu">::</span><span class="fu"><a href="https://rmgpanw.github.io/ukbwranglr/reference/db_tables_to_list.html" class="external-link">db_tables_to_list</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view first few rows of ICD10 lookup table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">all_lkps_maps_dummy_db</span><span class="op">$</span><span class="va">icd10_lkp</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Source:   SQL [?? x 13]</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Database: DuckDB 1.4.1 [unknown@Linux 6.11.0-1018-azure:R 4.5.1//tmp/RtmpMAe12Q/file236760033d75]</span></span></span>
<span><span class="co">#&gt;   .rowid ICD10_CODE ALT_CODE USAGE   USAGE_UK DESCRIPTION  MODIFIER_4 MODIFIER_5</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>      1 A00        A00      DEFAULT 3        Cholera      <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>      2 A00.0      A000     DEFAULT 3        Cholera due… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>      3 A00.1      A001     DEFAULT 3        Cholera due… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>      4 A00.9      A009     DEFAULT 3        Cholera, un… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>      5 A01.0      A010     DEFAULT 3        Typhoid fev… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>      6 A02        A02      DEFAULT 3        Other salmo… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: QUALIFIERS &lt;chr&gt;, GENDER_MASK &lt;chr&gt;, MIN_AGE &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   MAX_AGE &lt;chr&gt;, TREE_DESCRIPTION &lt;chr&gt;</span></span></span></code></pre></div>
<p>Either will work with the functions described in the remainder of
this vignette, but the Duckdb database option is recommended. For
convenience, record the path to your Duckdb database in a
<code>.Renviron</code> file:</p>
<pre><code>ALL_LKPS_MAPS_DB=/PATH/TO/all_lkps_maps.db</code></pre>
<p>Assuming you are using a <a href="https://r4ds.had.co.nz/workflow-projects.html#rstudio-projects" title="R for Data Science" class="external-link">RStudio project</a>, this will set an
environmental variable called <code>ALL_LKPS_MAPS_DB</code> when you
start a new R session. Functions with an <code>all_lkps_maps</code>
argument will automatically search for this variable and attempt to
connect with the database file at that path, meaning you will not need
to repeatedly type this in your self.</p>
</div>
<div class="section level2">
<h2 id="build-a-clinical-code-list">Build a clinical code list<a class="anchor" aria-label="anchor" href="#build-a-clinical-code-list"></a>
</h2>
<div class="section level3">
<h3 id="explore-codes">Explore codes<a class="anchor" aria-label="anchor" href="#explore-codes"></a>
</h3>
<p>Codes may be explored with:</p>
<ul>
<li>
<code><a href="../reference/CODES.html">CODES()</a></code>:</li>
</ul>
<!-- --><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/CODES.html">CODES</a></span><span class="op">(</span></span>
<span>  codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"E10"</span>, <span class="st">"E11"</span><span class="op">)</span>,</span>
<span>  code_type <span class="op">=</span> <span class="st">"icd10"</span>,</span>
<span>  all_lkps_maps <span class="op">=</span> <span class="va">all_lkps_maps_dummy_db</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">#&gt;   code  description              code_type</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> E10   Type 1 diabetes mellitus icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> E11   Type 2 diabetes mellitus icd10</span></span></code></pre></div>
<ul>
<li>
<code>codes_starting_with()</code>:</li>
</ul>
<!-- --><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/CHILDREN.html">CHILDREN</a></span><span class="op">(</span>codes <span class="op">=</span> <span class="st">"E10"</span>,</span>
<span>                code_type <span class="op">=</span> <span class="st">"icd10"</span>,</span>
<span>                all_lkps_maps <span class="op">=</span> <span class="va">all_lkps_maps_dummy_db</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 11 × 3</span></span></span>
<span><span class="co">#&gt;    code  description                                                   code_type</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> E10   Type 1 diabetes mellitus                                      icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> E100  Type 1 diabetes mellitus With coma                            icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> E101  Type 1 diabetes mellitus With ketoacidosis                    icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> E102  Type 1 diabetes mellitus With renal complications             icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> E103  Type 1 diabetes mellitus With ophthalmic complications        icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> E104  Type 1 diabetes mellitus With neurological complications      icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> E105  Type 1 diabetes mellitus With peripheral circulatory complic… icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> E106  Type 1 diabetes mellitus With other specified complications   icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> E107  Type 1 diabetes mellitus With multiple complications          icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> E108  Type 1 diabetes mellitus With unspecified complications       icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> E109  Type 1 diabetes mellitus Without complications                icd10</span></span></code></pre></div>
<ul>
<li><code>code_descriptions_like():</code></li>
</ul>
<!-- --><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/code_descriptions_like.html">code_descriptions_like</a></span><span class="op">(</span>reg_expr <span class="op">=</span> <span class="st">"cyst"</span>,</span>
<span>                       code_type <span class="op">=</span> <span class="st">"icd10"</span>,</span>
<span>                       all_lkps_maps <span class="op">=</span> <span class="va">all_lkps_maps_dummy_db</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">#&gt;   code  description          code_type</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> L721  Trichilemmal cyst    icd10    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> N330  Tuberculous cystitis icd10</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="r-shiny-app">R Shiny app<a class="anchor" aria-label="anchor" href="#r-shiny-app"></a>
</h3>
<p>Use <code>RunCodelistBuilder()</code> to launch a R Shiny app for
building a clinical code list.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;This is still quite experimental, but should hopefully
work for the basic workflow described here.&lt;/p&gt;"><sup>3</sup></a> The aim is to develop a broad search
strategy that captures all clinincal codes that might possibly be
included, then download the search results and manually select and
sub-categorise the final set of codes:</p>
<div class="float">
<img src="runcodelistbuilder.jpg" style="width:100.0%" alt="Build a clinical code list in R Shiny"><div class="figcaption">Build a clinical code list in R Shiny</div>
</div>
<blockquote>
<p>Microsoft excel auto-formatting can cause problems with certain codes
e.g. Read 3 ‘.7944’ (Creation of permanent gastrostomy) may be
reformatted to ‘7944’. Ideally use a different text editor.</p>
</blockquote>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-denny2016" class="csl-entry">
Denny, Joshua C., Lisa Bastarache, and Dan M. Roden. 2016.
<span>“Phenome-Wide Association Studies as a Tool to Advance Precision
Medicine.”</span> <em>Annual Review of Genomics and Human Genetics</em>
17 (August): 353–73. <a href="https://doi.org/10.1146/annurev-genom-090314-024956" class="external-link">https://doi.org/10.1146/annurev-genom-090314-024956</a>.
</div>
<div id="ref-kuan2019" class="csl-entry">
Kuan, Valerie, Spiros Denaxas, Arturo Gonzalez-Izquierdo, Kenan Direk,
Osman Bhatti, Shanaz Husain, Shailen Sutaria, et al. 2019. <span>“A
chronological map of 308 physical and mental health conditions from 4
million individuals in the English National Health Service.”</span>
<em>The Lancet. Digital Health</em> 1 (2): e63–77. <a href="https://doi.org/10.1016/S2589-7500(19)30012-3" class="external-link">https://doi.org/10.1016/S2589-7500(19)30012-3</a>.
</div>
<div id="ref-wu2019" class="csl-entry">
Wu, Patrick, Aliya Gifford, Xiangrui Meng, Xue Li, Harry Campbell, Tim
Varley, Juan Zhao, et al. 2019. <span>“Mapping ICD-10 and ICD-10-CM
Codes to Phecodes: Workflow Development and Initial Evaluation.”</span>
<em>JMIR medical informatics</em> 7 (4): e14325. <a href="https://doi.org/10.2196/14325" class="external-link">https://doi.org/10.2196/14325</a>.
</div>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alasdair Warwick.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
